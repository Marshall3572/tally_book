{"version":3,"sources":["icons/money.svg","icons/tag.svg","icons/chart.svg","icons/left.svg","icons/right.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","lib/createId.tsx","components/hooks/useUpdate.tsx","components/hooks/useTags.tsx","components/Button.tsx","components/Center.tsx","views/Tags.tsx","views/Money/TagSection.tsx","views/Money/CategorySection.tsx","components/Input.tsx","views/Money/NoteSection.tsx","views/Money/NumberPadSection/Wrapper.tsx","views/Money/NumberPadSection.tsx","views/Money/NumberPadSection/generateOutput.tsx","components/hooks/useRecords.tsx","views/Money.tsx","views/Statistics.tsx","views/NoMatch.tsx","views/Tag.tsx","App.tsx","index.tsx"],"names":["symbol","add","require","Icon","props","name","children","className","rest","cs","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","mainRef","useRef","useEffect","setTimeout","current","scrollTop","ref","defaultProps","id","parseInt","window","localStorage","getItem","createId","setItem","JSON","stringify","useUpdate","fn","dependency","count","useTags","useState","tags","setTags","localTags","parse","length","findTag","filter","tag","updateTag","map","findTagIndex","res","i","deleteTag","addTag","tagName","prompt","getName","t","Button","button","Center","TagList","ol","Tags","onClick","section","TagsSection","selectedTagIds","value","tagId","indexOf","onChange","CategorySection","category","categoryMap","categoryList","c","Label","label","Input","NoteSection","note","type","e","target","placeholder","NumberPadSection","toString","output","_setOutput","text","textContent","split","concat","newOutput","slice","parseFloat","setOutput","generateOutput","onOk","useRecords","records","setRecords","addRecord","newRecord","amount","alert","tagIds","record","createdAt","Date","toISOString","MyLayout","CategoryWrapper","defaultFormData","Money","selected","setSelected","obj","Item","Header","h3","Statistics","setCategory","hash","forEach","key","dayjs","format","push","array","Object","entries","sort","a","b","date","reduce","preRes","curSpan","index","NoMatch","Topbar","header","InputWrapper","Tag","idString","useParams","history","useHistory","goBack","tagContent","AppWrapper","App","exact","path","component","from","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.eccba1f4.chunk.js","sourcesContent":["import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style>@font-face{font-family:feedback-iconfont;src:url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.eot?#iefix) format(\\\"embedded-opentype\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff2) format(\\\"woff2\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff) format(\\\"woff\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.ttf) format(\\\"truetype\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.svg#iconfont) format(\\\"svg\\\")}</style></defs><path d=\\\"M783.612 167.565 575.025 463.258h164.392v65.367H547.91v90.024h191.507v66.184H547.91v131.088h-98.529V684.833H250.865V618.65H449.38v-90.024H250.865v-65.367h169.374L213.646 167.565h111.089c96.536 146.85 155.141 240.007 175.922 279.397h1.992c7.047-16.226 26.331-48.891 57.787-97.996l118.135-181.4h105.04z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1048 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1048 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><defs><style>@font-face{font-family:feedback-iconfont;src:url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.eot?#iefix) format(\\\"embedded-opentype\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff2) format(\\\"woff2\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff) format(\\\"woff\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.ttf) format(\\\"truetype\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.svg#iconfont) format(\\\"svg\\\")}</style></defs><path d=\\\"M1009.376 308.86 729.706 37.786a136.28 136.28 0 0 0-186.68-1.544L8.274 534.46a25.899 25.899 0 0 0-8.216 20.043v339.42a129.9 129.9 0 0 0 129.755 129.96h351.19a26.044 26.044 0 0 0 18.587-7.808l512.116-523.39a129.668 129.668 0 0 0-2.33-183.825zM279.932 874.319a116.53 116.53 0 1 1 116.53-116.529 116.53 116.53 0 0 1-116.53 116.53z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"chart\\\"><defs><style>@font-face{font-family:feedback-iconfont;src:url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.eot?#iefix) format(\\\"embedded-opentype\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff2) format(\\\"woff2\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff) format(\\\"woff\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.ttf) format(\\\"truetype\\\"),url(//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.svg#iconfont) format(\\\"svg\\\")}</style></defs><path d=\\\"M929.28 896h-864V623.68l184.448-184.448C261.76 444.736 275.072 448 289.28 448s27.456-3.264 39.552-8.768l129.216 129.216c-5.568 12.032-8.768 25.408-8.768 39.552 0 52.992 43.008 96 96 96s96-43.008 96-96c0-14.144-3.264-27.52-8.768-39.552l317.44-317.44c13.824-13.76 13.824-36.096 0-49.92-13.76-13.76-36.096-13.76-49.92 0L581.76 519.296c-11.264-4.672-23.552-7.296-36.48-7.296s-25.28 2.624-36.544 7.296L377.984 388.48A94.665 94.665 0 0 0 385.28 352c0-52.992-43.008-96-96-96s-96 43.008-96 96a94.665 94.665 0 0 0 7.296 36.48L65.28 523.84V160c0-17.664-14.336-32-32-32s-32 14.336-32 32v437.312a33.462 33.462 0 0 0 0 12.864V928c0 17.664 14.336 32 32 32h896c17.664 0 32-14.336 32-32s-14.336-32-32-32zm-384-320c17.664 0 32 14.336 32 32s-14.336 32-32 32-32-14.336-32-32 14.272-32 32-32zm-256-256c17.664 0 32 14.336 32 32s-14.336 32-32 32-32-14.336-32-32 14.272-32 32-32z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1056 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1056 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><path d=\\\"M277.92 511.936a31.584 31.584 0 0 1 9.28-22.4L649.536 127.2a31.808 31.808 0 0 1 45.12.128 31.904 31.904 0 0 1 .128 45.12L355.2 512l339.52 339.552a31.808 31.808 0 0 1-.128 45.12 31.904 31.904 0 0 1-45.12.128L287.168 534.464c-6.208-6.176-9.28-14.272-9.312-22.4l.032-.128z\\\" fill=\\\"#333\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1056 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1056 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><path d=\\\"M746.08 512.064a31.584 31.584 0 0 1-9.28 22.4L374.464 896.8a31.808 31.808 0 0 1-45.12-.128 31.904 31.904 0 0 1-.128-45.12L668.8 512 329.28 172.448a31.808 31.808 0 0 1 .128-45.12 31.904 31.904 0 0 1 45.12-.128l362.304 362.336c6.208 6.176 9.28 14.272 9.312 22.4l-.032.128z\\\" fill=\\\"#333\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React, {SVGAttributes} from 'react';\nimport cs from 'classnames';\n\nrequire('../icons/money.svg');  // svgo-loader => svg-sprite-loader这个loader会把我们引入的svg标签在body里作为一个symbol，合并成一个大的svg\nrequire('../icons/tag.svg');\nrequire('../icons/chart.svg');\nrequire('../icons/left.svg');\nrequire('../icons/right.svg');\n\n// 难到我们每次添加一个svg都要require一下吗，那这样也太不优雅了，于是⬇我们可以直接引入一个目录\n// let importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\n// try {importAll(require.context('icons', true, /\\.svg$/));} catch (error) {console.log(error);}\n\ntype Props = {\n  name?: string\n} & SVGAttributes<SVGElement>\n\nconst Icon = (props: Props) => {\n  const {name, children, className, ...rest} = props\n  return (\n// 可以在控制台打出，看得到id\n    <svg className={cs(\"icon\",className)} {...rest}>\n      {props.name && <use xlinkHref={'#' + props.name}/>}\n    </svg>\n  )\n};\nexport default Icon;","import styled from 'styled-components';\nimport {NavLink} from 'react-router-dom';\nimport React from 'react';\nimport Icon from './Icon';\n\nconst NavWrapper = styled.nav`\n  background: white;\n  line-height: 24px;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.25);\n\n  > ul {\n    display: flex;\n\n    > li {\n      width: 33.3333%;\n      text-align: center;\n\n      > a {\n        display: flex;\n        flex-direction: column;\n        padding: 4px 0;\n        justify-content: center;\n        align-items: center;\n\n        .icon {\n          width: 24px;\n          height: 24px;\n        }\n\n        &.selected {\n          color: #fbbc05;\n\n          .icon {\n            fill: #fbbc05;\n          }\n        }\n      }\n    }\n  }\n`;\n\nconst Nav = () => {\n  return (\n    <NavWrapper>\n      <ul>\n        <li>\n          <NavLink to=\"/tags\" activeClassName=\"selected\">\n            <Icon name=\"tag\"/>\n            标签页\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/money\" activeClassName=\"selected\">\n            <Icon name=\"money\"/>\n            记账页\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/statistics\" activeClassName=\"selected\">\n            <Icon name=\"chart\"/>\n            统计页\n          </NavLink>\n        </li>\n      </ul>\n    </NavWrapper>\n  );\n};\n\nexport default Nav;","import Nav from './Nav';\nimport React, {FC, useEffect, useRef} from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  //border: 1px solid red;\n  //height: 100vh;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n`;\nconst Main = styled.div`\n  //border: 1px solid green;\n  //这样就可以把导航栏压到屏幕底部\n  flex-grow: 1;\n  // 如果Main中的内容超了，那么滚动条只显示在Main，不影响底部导航。或者不要这句，直接把Wrapper的\n  overflow: auto;\n`;\ntype Props = {\n  className?: string;\n  scrollTop?: number;\n}\nconst Layout: FC<Props> = (props) => {\n  const mainRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    setTimeout(() => {\n      if (!mainRef.current) {return;}\n      mainRef.current.scrollTop = props.scrollTop!;\n    }, 0);\n  }, [props.scrollTop]);\n  return (\n    <Wrapper>\n      <Main ref={mainRef} className={props.className}>\n        {props.children}\n      </Main>\n      <Nav/>\n    </Wrapper>\n  );\n};\n\nLayout.defaultProps = {\n  scrollTop: 0\n};\n\nexport default Layout;","let id = parseInt(window.localStorage.getItem('idMax') || '0');\nconst createId = (): number => {\n  id += 1;\n  window.localStorage.setItem('idMax', JSON.stringify(id));\n  return id;\n};\n\nexport {createId};","import {useEffect, useRef} from 'react';\n\nexport const useUpdate = (fn: () => void, dependency: any[]) => {\n  const count = useRef(0);\n  useEffect(() => {\n    count.current += 1;\n  });\n  useEffect(() => {\n    if (count.current > 1) {\n      fn();\n    }\n  }, [fn, dependency]); // 不可变数据，需要改变地址，若仅修改值是无法检测到的\n};","import {useEffect, useState} from 'react';\nimport {createId} from '../../lib/createId';\nimport {useUpdate} from './useUpdate';\n\n// use开头的就是自定义的hooks，这个操作是封装一个自定义的Hook\nconst useTags = () => {\n    const [tags, setTags] = useState<{ id: number, name: string }[]>([]);\n    useEffect(() => {\n      let localTags = JSON.parse(window.localStorage.getItem('tags') || '[]');\n      if (localTags.length === 0) {\n        localTags = [\n          {id: createId(), name: '衣'},\n          {id: createId(), name: '食'},\n          {id: createId(), name: '住'},\n          {id: createId(), name: '行'},\n        ];\n      }\n      setTags(localTags);\n    }, []);\n    useUpdate(() => {\n      window.localStorage.setItem('tags', JSON.stringify(tags));\n    }, tags);\n    const findTag = (id: number) => tags.filter(tag => tag.id === id)[0];\n    const findTagIndex = (id: number) => {\n      let res = -1;\n      for (let i = 0; i < tags.length; i++) {\n        if (tags[i].id === id) {\n          res = i;\n          break;\n        }\n      }\n      return res;\n    };\n    const updateTag = (id: number, {name}: { name: string }) => {\n      setTags(tags.map(tag => tag.id === id ? {id, name: name} : tag));\n    };\n    const deleteTag = (id: number) => {\n      setTags(tags.filter(tag => tag.id !== id));\n    };\n    const addTag = () => {\n      const tagName = window.prompt('请输入新标签名称');\n      if (tagName) {\n        // 这里可做一个数组去重，但要提示重复标签\n        setTags([...tags, {id: createId(), name: tagName}]);\n      }\n    };\n    const getName = (id: number) => {\n      const tag = tags.filter(t => t.id === id)[0];\n      return tag ? tag.name : '';\n    };\n    return {tags, setTags, findTag, updateTag, findTagIndex, deleteTag, addTag, getName};\n  }\n;\n\nexport {useTags};\n\n// 改tag\n// 1:衣 => 1:衣服\n// tag: string => tag: {id: number, name: string}","import styled from 'styled-components';\n\nconst Button = styled.button`\n  font-size: 18px;\n  border: none;\n  padding: 8px 12px;\n  background: #767676;\n  border-radius: 4px;\n  color: white;\n`;\n\nexport {Button}","import styled from 'styled-components';\n\nconst Center = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 48px 0 0 0;\n`;\nexport {Center}","import Layout from '../components/Layout';\nimport React from 'react';\nimport {useTags} from '../components/hooks/useTags';\nimport styled from 'styled-components';\nimport {Link} from 'react-router-dom';\nimport Icon from '../components/Icon';\nimport {Button} from '../components/Button';\nimport {Center} from '../components/Center';\n\nconst TagList = styled.ol`\n  font-size: 16px;\n  background: white;\n\n  > li {\n    border-bottom: 1px solid #d5d5d9;\n    line-height: 20px;\n    margin-left: 16px;\n    > a {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 12px 16px 12px 0;\n    }\n  }\n`;\n\nconst Tags = () => {\n  const {tags, addTag} = useTags();\n  return (\n    <Layout>\n      <TagList>\n        {tags.map(tag =>\n          <li key={tag.id}>\n            <Link to={'/tags/' + tag.id}>\n              <span className=\"oneLine\">{tag.name}</span>\n              <Icon name=\"right\"/>\n            </Link>\n          </li>\n        )}\n      </TagList>\n      <Center>\n        <Button onClick={addTag}>新增标签</Button>\n      </Center>\n    </Layout>\n  );\n};\n\nexport default Tags;","import styled from 'styled-components';\nimport React from 'react';\nimport {useTags} from '../../components/hooks/useTags';\n\nconst Wrapper = styled.section`\n  background: #FFFFFF;\n  padding: 12px 16px;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: flex-start;\n\n  > ol {\n    margin: 0 -12px;\n\n    > li {\n      background: #D9D9D9;\n      border-radius: 18px;\n      display: inline-block;\n      padding: 3px 18px;\n      font-size: 14px;\n      margin: 8px 12px;\n\n      &.selected {\n        background: #fbbc05;\n      }\n    }\n  }\n\n  > button {\n    background: none;\n    border: none;\n    padding: 2px 4px;\n    border-bottom: 1px solid #333;\n    color: #666;\n    margin-top: 8px;\n  }\n`;\n\ntype Props = {\n  value: number[],\n  onChange: (value: number[]) => void\n}\n\nconst TagsSection: React.FC<Props> = (props) => {\n  const {tags, addTag} = useTags();\n  const selectedTagIds = props.value;\n  //因为React不允许修改props，所以我们在这里不能引入外部的setSelected\n\n  const onToggleTag = (tagId: number) => {\n    const index = selectedTagIds.indexOf(tagId);\n    if (index >= 0) {\n      // 如果tag已被选中，则复制其他被选中的tag，成为新的selectedTags，删除当前tag\n      props.onChange(selectedTagIds.filter(t => t !== tagId));\n    } else {\n      props.onChange([...selectedTagIds, tagId]);\n    }\n  };\n  const getClass = (tagId: number) => selectedTagIds.indexOf(tagId) >= 0 ? 'selected' : '';\n  return (\n    <Wrapper>\n      <ol>\n        {tags.map(tag =>\n          <li key={tag.id} onClick={\n            // 这里箭头函数是因为要这个函数\n            () => {onToggleTag(tag.id);}\n            // 这里非箭头函数是因为要返回的东西\n          } className={getClass(tag.id)}>{tag.name}</li>\n        )}\n      </ol>\n      {/*如果不把onClick里的函数写成箭头函数，那么意思就是把这个函数执行完了返回的新函数传给onClick*/}\n      <button onClick={addTag}>新增标签</button>\n    </Wrapper>\n  );\n};\n\n// TagsSection\nexport {TagsSection};","import styled from 'styled-components';\nimport React, {FC, useState} from 'react';\nimport {Category} from '../Money';\n\nconst Wrapper = styled.section`\n  font-size: 24px;\n\n  > ul {\n    display: flex;\n\n    > li {\n      width: 50%;\n      text-align: center;\n      padding: 16px 0;\n      position: relative;\n      //为了让下划线border不占高度，使用伪元素\n      &.selected::after {\n        content: '';\n        background: #333;\n        // 默认另起一行\n        display: block;\n        height: 3px;\n        position: absolute;\n        width: 100%;\n        left: 0;\n        bottom: 0;\n      }\n    }\n  }\n`;\ntype Props = {\n  value: Category,\n  onChange: (value: Category) => void\n}\nconst CategorySection: FC<Props> = (props) => {\n  const category = props.value;\n  const categoryMap = {\n    '-': '支出',\n    '+': '收入'\n  };\n  type Keys = keyof typeof categoryMap\n\n  const [categoryList] = useState<Keys[]>(['-', '+']);\n  return (\n    <Wrapper>\n      <ul>\n        {categoryList.map(c => {\n          return (\n            <li key={c} className={category === c ? 'selected' : ''} onClick={()=>{props.onChange(c)}}>{categoryMap[c]}</li>\n          );\n        })}\n      </ul>\n    </Wrapper>\n  );\n};\nexport {CategorySection};","import React, {FC} from 'react';\nimport styled from 'styled-components';\n\nconst Label = styled.label`\n  display: flex;\n  align-items: center;\n\n  > span {\n    margin-right: 16px;\n    white-space: nowrap;\n  }\n\n  > input {\n    display: block;\n    width: 100%;\n    height: 44px;\n    background: none;\n    border: none;\n  }\n`;\n\ntype Props = {\n  label: string\n} & React.InputHTMLAttributes<HTMLInputElement>\n\nconst Input: FC<Props> = (props) => {\n  const {label, children, ...rest} = props;\n  return (\n    <Label>\n      <span>{props.label}</span>\n      {/*受控模式*/}\n      {/*<input type=\"text\" placeholder=\"在这里添加备注\" value={note} onChange={e => {setNote(e.target.value);}}/>*/}\n      {/*为了巩固新学的知识，加入非受控模式，鼠标移出输入框触发*/}\n      <input {...rest}/>\n      {/*这里补充一点，React中的onChange和html中的onchange(比如addEventListener)是不一样的*/}\n      {/*React的onChange在你每输入一个字触发一次。而html的onChange在鼠标移出时触发(早于onBlur)*/}\n    </Label>\n  );\n};\n\nexport {Input};","import styled from 'styled-components';\nimport React, {ChangeEventHandler, FC} from 'react';\nimport {Input} from '../../components/Input';\n\nconst Wrapper = styled.section`\n  background: #f5f5f5;\n  padding: 14px 16px;\n  font-size: 14px;\n`;\ntype Props = {\n  value: string,\n  onChange: (value: string) => void\n}\n\nconst NoteSection: FC<Props> = (props) => {\n  const note = props.value;\n  const onChange: ChangeEventHandler<HTMLInputElement> = (e) => {\n    props.onChange(e.target.value);\n  };\n  return (\n    <Wrapper>\n      <Input label=\"备注\" type=\"text\" value={note} onChange={onChange} placeholder=\"请填写备注\"></Input>\n      {/*<span>备注</span>复活*/}\n      {/*受控模式*/}\n      {/*<input type=\"text\" placeholder=\"在这里添加备注\" value={note} onChange={e => {setNote(e.target.value);}}/>*/}\n      {/*为了巩固新学的知识，加入非受控模式，鼠标移出输入框触发*/}\n      {/*<input type=\"text\" placeholder=\"在这里添加备注\" defaultValue={note} ref={refInput} onBlur={onBlur}/>复活*/}\n      {/*这里补充一点，React中的onChange和html中的onchange(比如addEventListener)是不一样的*/}\n      {/*React的onChange在你每输入一个字触发一次。而html的onChange在鼠标移出时触发(早于onBlur)*/}\n    </Wrapper>\n  );\n\n};\nexport {NoteSection};","import styled from 'styled-components';\n\nconst Wrapper = styled.section`\n  display: flex;\n  flex-direction: column;\n\n  > .output {\n    background: white;\n    font-size: 36px;\n    line-height: 72px;\n    text-align: right;\n    padding: 0 16px;\n    box-shadow: inset 0 -5px 5px -5px rgba(0, 0, 0, 0.25) inset 0 5px 5px -5px rgba(0, 0, 0, 0.25);\n  }\n\n  > .pad {\n    > button {\n      font-size: 18px;\n      //这里不能使用flex布局，因为\"ok\"很高，把\"0 .\"挤下去了\n      float: left;\n      width: 25%;\n      height: 64px;\n      border: none;\n\n      &.ok {\n        height: 128px;\n        float: right;\n      }\n\n      &.zero {\n        width: 50%;\n      }\n\n      &:nth-child(1) {\n        background: #f2f2f2;\n      }\n\n      &:nth-child(2),\n      &:nth-child(5) {\n        background: #E0E0E0;\n      }\n\n      &:nth-child(3),\n      &:nth-child(6),\n      &:nth-child(9) {\n        background: #D3D3D3;\n      }\n\n      &:nth-child(4),\n      &:nth-child(7),\n      &:nth-child(10) {\n        background: #C1C1C1;\n      }\n\n      &:nth-child(8),\n      &:nth-child(11),\n      &:nth-child(13) {\n        background: #B8B8B8;\n      }\n\n      &:nth-child(12) {\n        background: #9A9A9A;\n      }\n\n      &:nth-child(14) {\n        background: #A9A9A9;\n      }\n    }\n  }\n`;\nexport {Wrapper}","import React, {FC, MouseEvent, useState} from 'react';\nimport {Wrapper} from './NumberPadSection/Wrapper';\nimport {generateOutput} from './NumberPadSection/generateOutput';\n\ntype Props = {\n  value: number,\n  onChange: (value: number) => void,\n  // 加?表示可选传\n  onOk?: () => void\n}\nconst NumberPadSection: FC<Props> = (props) => {\n  // const output = props.value.toString()\n  const [output, _setOutput] = useState(props.value.toString())\n  const setOutput = (output: string) => {\n    let newOutput: string\n    if (output.length > 16) newOutput = output.slice(0, 16);\n    else if (output.length === 0) newOutput = '0'\n    else newOutput = output\n    _setOutput(newOutput)\n    props.onChange(parseFloat(newOutput))\n  };\n  const onClickButtonWrapper = (e: MouseEvent) => {\n    const text = (e.target as HTMLButtonElement).textContent;\n    if (!text) return;\n    if (text === 'OK') {\n      // 这里要判断onOk方法是否传了\n      if(props.onOk) props.onOk()\n      return;\n    }\n    if('0123456789'.split('').concat(['删除','清空','.']).indexOf(text) >= 0)\n    setOutput(generateOutput(text, output))\n\n  };\n  return (\n    <Wrapper>\n      <div className=\"output\">\n        {output}\n      </div>\n      <div className=\"pad clearfix\" onClick={onClickButtonWrapper}>\n        <button>1</button>\n        <button>2</button>\n        <button>3</button>\n        <button>删除</button>\n        <button>4</button>\n        <button>5</button>\n        <button>6</button>\n        <button>清空</button>\n        <button>7</button>\n        <button>8</button>\n        <button>9</button>\n        <button className=\"ok\">OK</button>\n        <button className=\"zero\">0</button>\n        <button className=\"dot\">.</button>\n      </div>\n    </Wrapper>\n  );\n};\n\nexport {NumberPadSection};","// type InputString = '0' | '1' | '2' | '3' | '4' | '5' | '6' | '7' | '8' | '9' | '删除' | '.' | '清空'\n\nconst generateOutput = (text: string, output: string) => {\n  switch (text) {\n    case '0':\n    case '1':\n    case '2':\n    case '3':\n    case '4':\n    case '5':\n    case '6':\n    case '7':\n    case '8':\n    case '9':\n      if (output === '0') {\n        return text;\n      } else {\n        return output + text;\n      }\n    case '.':\n      if (output.indexOf('.') >= 0) return output;\n      else return output + '.';\n    case '删除':\n      if (output.length === 1) {return '';} else {\n        return output.slice(0, -1) || '';\n      }\n    case '清空':\n      return '';\n    default:\n      return '';\n  }\n};\nexport {generateOutput};\n","import {useEffect, useState} from 'react';\nimport {useUpdate} from './useUpdate';\n\nexport type RecordItem = {\n  tagIds: number[],\n  note: string,\n  category: '+' | '-',\n  amount: number,\n  createdAt: string // ISO 8601\n}\n// Omit是Ts提供的参数，表示在RecordItem类型中，除了createAt，其他的属性都要，剩下的属性生成一个新的属性集合\ntype newRecordItem = Omit<RecordItem, 'createdAt'>\n\nexport const useRecords = () => {\n  const [records, setRecords] = useState<RecordItem[]>([]);\n  useEffect(() => {\n    setRecords(JSON.parse(window.localStorage.getItem('records') || '[]'));\n  }, []);\n  useUpdate(() => {\n    window.localStorage.setItem('records', JSON.stringify(records));\n  }, records);\n  const addRecord = (newRecord: newRecordItem) => {\n    if (newRecord.amount <= 0) {\n      alert('请输入金额')\n      return false;\n    }\n    if(newRecord.tagIds.length === 0){\n      alert('请选择标签')\n      return false\n    }\n    const record = {...newRecord, createdAt: (new Date()).toISOString()};\n    setRecords([...records, record]);\n    return true\n  };\n  return {records, addRecord};\n};","import Layout from '../components/Layout';\nimport React, {useState} from 'react';\nimport styled from 'styled-components';\nimport {TagsSection} from './Money/TagSection';\nimport {CategorySection} from './Money/CategorySection';\nimport {NoteSection} from './Money/NoteSection';\nimport {NumberPadSection} from './Money/NumberPadSection';\nimport {useRecords} from '../components/hooks/useRecords';\n\nconst MyLayout = styled(Layout)`\n  display: flex;\n  flex-direction: column;\n`;\nconst CategoryWrapper = styled.div`\n  background: #c4c4c4;\n`\n\nexport type Category = '-' | '+'\nconst defaultFormData = {\n  tagIds: [] as number[],\n  note: '',\n  category: '-' as Category,\n  amount: 0\n};\nconst Money = () => {\n  const [selected, setSelected] = useState(defaultFormData);\n  const {addRecord} = useRecords();\n  const onChange = (obj: Partial<typeof selected>) => {\n    setSelected({...selected, ...obj});\n  };\n  const submit = () => {\n    if (addRecord(selected)) {\n      alert('保存成功');\n      setSelected(defaultFormData);\n    }\n  };\n  return (\n    <MyLayout scrollTop={9999}>\n      <TagsSection value={selected.tagIds} onChange={tagIds => onChange({tagIds: tagIds})}/>\n      <NoteSection value={selected.note} onChange={note => onChange({note: note})}/>\n      <CategoryWrapper>\n        <CategorySection value={selected.category} onChange={category => onChange({category: category})}/>\n      </CategoryWrapper>\n      <NumberPadSection value={selected.amount} onChange={amount => onChange({amount: amount})}\n                        onOk={submit}\n      />\n    </MyLayout>\n  );\n};\n\nexport default Money;","import Layout from '../components/Layout';\nimport React, {ReactNode, useState} from 'react';\nimport {CategorySection} from './Money/CategorySection';\nimport styled from 'styled-components';\nimport {RecordItem, useRecords} from '../components/hooks/useRecords';\nimport {useTags} from '../components/hooks/useTags';\n// 时间格式转换库\nimport dayjs from 'dayjs';\n\nconst CategoryWrapper = styled.div`\n  background: white;\n`;\nconst Item = styled.div`\n  display: flex;\n  justify-content: space-between;\n  background: #fff;\n  font-size: 18px;\n  line-height: 20px;\n  padding: 10px 16px;\n\n  > .note {\n    margin-right: auto;\n    margin-left: 16px;\n    color: #999;\n  }\n`;\nconst Header = styled.h3`\n  font-size: 18px;\n  line-height: 20px;\n  padding: 10px 16px;\n`;\n\nconst Statistics = () => {\n  const [category, setCategory] = useState<'-' | '+'>('-');\n  const {records} = useRecords();\n  const {getName} = useTags();\n  const hash: { [K: string]: RecordItem[] } = {};\n  const selectedRecords = records.filter(record => record.category === category);\n\n  selectedRecords.forEach(record => {\n    const key = dayjs(record.createdAt).format('YYYY年MM月DD日');\n    const value = record;\n    if (!(key in hash)) {\n      hash[key] = [];\n    }\n    hash[key].push(value);\n  });\n  // 将hash变为数组\n  const array = Object.entries(hash).sort((a, b) => {\n    if (a[0] === b[0]) return 0;\n    if (a[0] > b[0]) return -1;\n    if (a[0] < b[0]) return 1;\n    return 0;\n  });\n\n  return (\n    <Layout>\n      <CategoryWrapper>\n        <CategorySection value={category} onChange={value => setCategory(value)}/>\n      </CategoryWrapper>\n\n      {array.map(([date, records]) => <div>\n        <Header>{date}</Header>\n        <div>\n            {records.map(record => {\n              return <Item key={record.createdAt}>\n                <div className=\"tags oneLine\">\n                  {record.tagIds.map(tagId => <span key={tagId}>{getName(tagId)}</span>)\n                    .reduce((preRes, curSpan, index, array) => preRes.concat(index < array.length-1 ? [curSpan, '，'] : [curSpan]),[] as ReactNode[])}\n                </div>\n\n                {record.note && <div className=\"note\">\n                  {record.note}\n                </div>}\n\n                <div className=\"amount\">\n                  ¥{record.amount}\n                </div>\n              </Item>;\n            })}\n          </div>\n      </div>)}\n    </Layout>\n  );\n};\n\nexport default Statistics;","import React from 'react';\n\nconst NoMatch = () => {\n  return (\n    <div>页面不存在，请检查输入地址</div>\n  );\n};\n\nexport default NoMatch","import React from 'react';\nimport {useTags} from '../components/hooks/useTags';\nimport {useParams, useHistory} from 'react-router-dom';\nimport Layout from '../components/Layout';\nimport Icon from '../components/Icon';\nimport {Button} from '../components/Button';\nimport styled from 'styled-components';\nimport {Input} from '../components/Input';\nimport {Center} from '../components/Center';\n\ntype Params = {\n  id: string\n}\n\nconst Topbar = styled.header`\n  display: flex;\n  line-height: 20px;\n  padding: 14px;\n  justify-content: space-between;\n  align-items: center;\n  background: white;\n`;\nconst InputWrapper = styled.div`\n  background: white;\n  padding: 0 16px;\n  margin-top: 8px;\n`;\n\n\nconst Tag: React.FC = () => {\n  const {findTag, updateTag, deleteTag} = useTags();\n  let {id: idString} = useParams<Params>();\n  const tag = findTag(parseInt(idString));\n  const tagContent = (tag: { id: number; name: string }) => (\n    <div>\n      <InputWrapper>\n        <Input label=\"标签名\" type=\"text\" placeholder=\"标签名\" value={tag.name} onChange={(e) => {\n          updateTag(tag.id, {name: e.target.value});\n        }}/>\n      </InputWrapper>\n      <Center>\n        <Button onClick={() => {\n          deleteTag(tag.id);\n        }}>删除标签</Button>\n      </Center>\n    </div>\n  );\n  const history = useHistory();\n  const onClickBack = () => {\n    history.goBack();\n  };\n  return (\n    <Layout>\n      <Topbar>\n        <Icon name=\"left\" onClick={onClickBack}/>\n        <span>编辑标签</span>\n        <Icon/>\n      </Topbar>\n      {tag ? tagContent(tag) : <Center>tag 不存在</Center>}\n    </Layout>\n  );\n};\n\nexport {Tag};","import React from 'react';\nimport {HashRouter as Router, Switch, Route, Redirect} from 'react-router-dom';\nimport Tags from './views/Tags';\nimport Money from './views/Money';\nimport Statistics from './views/Statistics';\nimport NoMatch from './views/NoMatch';\nimport styled from 'styled-components';\nimport {Tag} from './views/Tag';\n\nconst AppWrapper = styled.div`\n  color: #333;\n`;\n\nconst App = () => {\n  return (\n    <AppWrapper>\n      <Router>\n        <Switch>\n          <Route exact path=\"/tags\" component={Tags}/>\n          <Route exact path=\"/tags/:id\" component={Tag}/>\n          <Route exact path=\"/money\" component={Money}/>\n          <Route exact path=\"/statistics\" component={Statistics}/>\n          {/*修改默认路由*/}\n          <Redirect exact from=\"/\" to=\"/money\"/>\n          <Route path=\"*\" component={NoMatch}/>\n        </Switch>\n      </Router>\n    </AppWrapper>\n  );\n};\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.scss';\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n);"],"sourceRoot":""}